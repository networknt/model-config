---
host: "lightapi.net"
service: "service"
schemas:
  getApiRequest:
    title: "Service"
    type: "object"
    properties:
      offset:
        type: "integer"
        description: "Record Offset"
      limit:
        type: "integer"
        description: "Record Limit"
      hostId:
        type: "string"
        description: "Host Id"
      filters:
        type: "string"
        description: "Filters"
      globalFilter:
        type: "string"
        description: "Global Filter"
      sorting:
        type: "string"
        description: "Sorting"
    required:
    - "limit"
    - "offset"
    - "hostId"
  getApiByIdRequest:
    title: "Service"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      apiId:
        type: "string"
        description: "Api Id"
    required:
    - "hostId"
    - "apiId"
  getFreshApiRequest:
    title: "Service"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      apiId:
        type: "string"
        description: "Api Id"
      aggregateVersion:
        type: "integer"
        description: "Aggregate Version"
    required:
    - "hostId"
    - "apiId"
    - "aggregateVersion"
  getApiVersionRequest:
    title: "Service"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      apiId:
        type: "string"
        description: "Api Id"
    required:
    - "hostId"
    - "apiId"
  getFreshApiVersionRequest:
    title: "Service"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      apiVersionId:
        type: "string"
        description: "Api Version Id"
      aggregateVersion:
        type: "integer"
        description: "Aggregate Version"
    required:
    - "hostId"
    - "apiVersionId"
    - "aggregateVersion"
  getApiEndpointRequest:
    title: "Api Endpoint"
    type: "object"
    properties:
      limit:
        type: "integer"
        description: "Record Limit"
      offset:
        type: "integer"
        description: "Record Offset"
      hostId:
        type: "string"
        description: "Host Id"
      filters:
        type: "string"
        description: "Filters"
      globalFilter:
        type: "string"
        description: "Global Filter"
      sorting:
        type: "string"
        description: "Sorting"
    required:
    - "limit"
    - "offset"
    - "hostId"
  getApiEndpointScopeRequest:
    title: "Endpoint Scope"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      apiId:
        type: "string"
        description: "Api Id"
      apiVersion:
        type: "string"
        description: "Api Version"
      endpoint:
        type: "string"
        description: "Endpoint"
    required:
    - "hostId"
    - "apiId"
    - "apiVersion"
    - "endpoint"
  getApiEndpointRuleRequest:
    title: "Endpoint Rule"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      endpointId:
        type: "string"
        description: "Endpoint Id"
    required:
    - "hostId"
    - "endpointId"
  getServiceRuleRequest:
    title: "Service Rule"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      apiId:
        type: "string"
        description: "Api Id"
      apiVersion:
        type: "string"
        description: "Api Version"
    required:
    - "hostId"
    - "apiId"
    - "apiVersion"
  getApiPermissionRequest:
    title: "Service Permission"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      apiId:
        type: "string"
        description: "Api Id"
      apiVersion:
        type: "string"
        description: "Api Version"
    required:
    - "hostId"
    - "apiId"
    - "apiVersion"
  getApiVersionIdLabelRequest:
    title: "Api Version Id"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
    required:
    - "hostId"
  getApiLabelRequest:
    title: "Api"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
    required:
    - "hostId"
  getApiVersionLabelRequest:
    title: "Api Version"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      apiId:
        type: "string"
        description: "Api Id"
    required:
    - "hostId"
    - "apiId"
  getEndpointLabelRequest:
    title: "Endpoint"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      apiVersionId:
        type: "string"
        description: "Api Version Id"
    required:
    - "hostId"
    - "apiVersionId"
  getServiceIdLabelRequest:
    title: "Service Id"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
    required:
    - "hostId"
action:
- name: "getApi"
  version: "0.1.0"
  handler: "GetApi"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getApiRequest"
    example:
      offset: 0
      limit: 10
      hostId: "host123"
- name: "getApiById"
  version: "0.1.0"
  handler: "GetApiById"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getApiByIdRequest"
    example:
      hostId: "host123"
      apiId: "api123"
- name: "getFreshApi"
  version: "0.1.0"
  handler: "GetFreshApi"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getFreshApiRequest"
    example:
      hostId: "host123"
      apiId: "api123"
      aggregateVersion: 1
- name: "getApiVersion"
  version: "0.1.0"
  handler: "GetApiVersion"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getApiVersionRequest"
    example:
      hostId: "host123"
      apiId: "api123"
- name: "getFreshApiVersion"
  version: "0.1.0"
  handler: "GetFreshApiVersion"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getFreshApiVersionRequest"
    example:
      hostId: "host123"
      apiVersionId: "apiVersion123"
      aggregateVersion: 1
- name: "getApiEndpoint"
  version: "0.1.0"
  handler: "GetApiEndpoint"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getApiEndpointRequest"
    example:
      offset: 0
      limit: 10
      hostId: "host123"
      apiId: "api123"
      apiVersion: "1.0.0"
- name: "getApiEndpointScope"
  version: "0.1.0"
  handler: "GetApiEndpointScope"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getApiEndpointScopeRequest"
    example:
      hostId: "host123"
      apiId: "api123"
      apiVersion: "1.0.0"
      endpoint: "test"
- name: "getApiEndpointRule"
  version: "0.1.0"
  handler: "GetApiEndpointRule"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getApiEndpointRuleRequest"
    example:
      hostId: "host123"
      endpointId: "endpoint123"
- name: "getServiceRule"
  version: "0.1.0"
  handler: "GetServiceRule"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getServiceRuleRequest"
    example:
      hostId: "host123"
      apiId: "api123"
      apiVersion: "1.0.0"
- name: "getApiPermission"
  version: "0.1.0"
  handler: "GetApiPermission"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getApiPermissionRequest"
    example:
      hostId: "host123"
      apiId: "api123"
      apiVersion: "1.0.0"
- name: "getApiVersionIdLabel"
  version: "0.1.0"
  handler: "GetApiVersionIdLabel"
  skipAuth: true
  request:
    schema:
      $ref: "#/schemas/getApiVersionIdLabelRequest"
    example:
      hostId: "host123"
- name: "getApiLabel"
  version: "0.1.0"
  handler: "GetApiLabel"
  skipAuth: true
  request:
    schema:
      $ref: "#/schemas/getApiLabelRequest"
    example:
      hostId: "host123"
- name: "getApiVersionLabel"
  version: "0.1.0"
  handler: "GetApiVersionLabel"
  skipAuth: true
  request:
    schema:
      $ref: "#/schemas/getApiVersionLabelRequest"
    example:
      hostId: "host123"
      apiId: "api123"
- name: "getEndpointLabel"
  version: "0.1.0"
  handler: "GetEndpointLabel"
  skipAuth: true
  request:
    schema:
      $ref: "#/schemas/getEndpointLabelRequest"
    example:
      hostId: "host123"
      apiId: "api123"
      apiVersion: "1.0.0"
- name: "getServiceIdLabel"
  version: "0.1.0"
  handler: "GetServiceIdLabel"
  skipAuth: true
  request:
    schema:
      $ref: "#/schemas/getServiceIdLabelRequest"
    example:
      hostId: "host123"
