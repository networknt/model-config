---
host: "lightapi.net"
service: "role"
schemas:
  getRoleRequest:
    title: "Role"
    type: "object"
    properties:
      offset:
        type: "integer"
        description: "Offset"
      limit:
        type: "integer"
        description: "Limit"
      hostId:
        type: "string"
        description: "Host Id"
      filters:
        type: "string"
        description: "Filters"
      globalFilter:
        type: "string"
        description: "Global Filter"
      sorting:
        type: "string"
        description: "Sorting"
    required:
    - "offset"
    - "limit"
    - "hostId"
  getFreshRoleRequest:
    title: "Role"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      roleId:
        type: "string"
        description: "Role Id"
      aggregateVersion:
        type: "integer"
        description: "Aggregate Version"
    required:
    - "hostId"
    - "roleId"
    - "aggregateVersion"
  queryRolePermissionRequest:
    title: "Role Permission"
    type: "object"
    properties:
      offset:
        type: "integer"
        description: "Offset"
      limit:
        type: "integer"
        description: "Limit"
      hostId:
        type: "string"
        description: "Host Id"
      filters:
        type: "string"
        description: "Filters"
      globalFilter:
        type: "string"
        description: "Global Filter"
      sorting:
        type: "string"
        description: "Sorting"
    required:
    - "offset"
    - "limit"
    - "hostId"
  queryRoleUserRequest:
    title: "Role User"
    type: "object"
    properties:
      offset:
        type: "integer"
        description: "Offset"
      limit:
        type: "integer"
        description: "Limit"
      hostId:
        type: "string"
        description: "Host Id"
      filters:
        type: "string"
        description: "Filters"
      globalFilter:
        type: "string"
        description: "Global Filter"
      sorting:
        type: "string"
        description: "Sorting"
    required:
    - "offset"
    - "limit"
    - "hostId"
  getFreshRoleUserRequest:
    title: "Role User"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      roleId:
        type: "string"
        description: "Role Id"
      userId:
        type: "string"
        description: "User Id"
      aggregateVersion:
        type: "integer"
        description: "Aggregate Version"
    required:
    - "hostId"
    - "roleId"
    - "userId"
    - "aggregateVersion"
  getRoleLabelRequest:
    title: "Role Label"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
    required:
    - "hostId"
  queryRoleRowFilterRequest:
    title: "Role Row Filter"
    type: "object"
    properties:
      offset:
        type: "integer"
        description: "Offset"
      limit:
        type: "integer"
        description: "Limit"
      hostId:
        type: "string"
        description: "Host Id"
      filters:
        type: "string"
        description: "Filters"
      globalFilter:
        type: "string"
        description: "Global Filter"
      sorting:
        type: "string"
        description: "Sorting"
    required:
    - "offset"
    - "limit"
    - "hostId"
  getFreshRoleRowFilterRequest:
    title: "Role Row Filter"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      roleId:
        type: "string"
        description: "Role Id"
      endpointId:
        type: "string"
        description: "Endpoint Id"
      colName:
        type: "string"
        description: "Col Name"
      aggregateVersion:
        type: "integer"
        description: "Aggregate Version"
    required:
    - "hostId"
    - "roleId"
    - "endpointId"
    - "colName"
    - "aggregateVersion"
  queryRoleColFilterRequest:
    title: "Role Col Filter"
    type: "object"
    properties:
      offset:
        type: "integer"
        description: "Offset"
      limit:
        type: "integer"
        description: "Limit"
      hostId:
        type: "string"
        description: "Host Id"
      filters:
        type: "string"
        description: "Filters"
      globalFilter:
        type: "string"
        description: "Global Filter"
      sorting:
        type: "string"
        description: "Sorting"
    required:
    - "offset"
    - "limit"
    - "hostId"
  getFreshRoleColFilterRequest:
    title: "Role Col Filter"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      roleId:
        type: "string"
        description: "Role Id"
      endpointId:
        type: "string"
        description: "Endpoint Id"
      aggregateVersion:
        type: "string"
        description: "Aggregate Version"
    required:
    - "hostId"
    - "roleId"
    - "endpointId"
    - "aggregateVersion"
action:
- name: "getRole"
  version: "0.1.0"
  handler: "GetRole"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getRoleRequest"
    example:
      offset: 0
      limit: 10
      hostId: "host123"
- name: "getFreshRole"
  version: "0.1.0"
  handler: "GetFreshRole"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getFreshRoleRequest"
    example:
      hostId: "host123"
      roleId: "role123"
      aggregateVersion: 1
- name: "queryRolePermission"
  version: "0.1.0"
  handler: "QueryRolePermission"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/queryRolePermissionRequest"
    example:
      offset: 0
      limit: 10
      hostId: "host123"
- name: "queryRoleUser"
  version: "0.1.0"
  handler: "QueryRoleUser"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/queryRoleUserRequest"
    example:
      offset: 0
      limit: 10
      hostId: "host123"
- name: "getFreshRoleUser"
  version: "0.1.0"
  handler: "GetFreshRoleUser"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getFreshRoleUserRequest"
    example:
      hostId: "host123"
      roleId: "role123"
      userId: "user123"
      aggregateVersion: 1
- name: "getRoleLabel"
  version: "0.1.0"
  handler: "GetRoleLabel"
  skipAuth: true
  request:
    schema:
      $ref: "#/schemas/getRoleLabelRequest"
    example:
      hostId: "host123"
- name: "queryRoleRowFilter"
  version: "0.1.0"
  handler: "QueryRoleRowFilter"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/queryRoleRowFilterRequest"
    example:
      offset: 0
      limit: 10
      hostId: "host123"
- name: "getFreshRoleRowFilter"
  version: "0.1.0"
  handler: "GetFreshRoleRowFilter"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getFreshRoleRowFilterRequest"
    example:
      hostId: "host123"
      roleId: "role123"
      endpointId: "endpoint123"
      colName: "col123"
      aggregateVersion: 1
- name: "queryRoleColFilter"
  version: "0.1.0"
  handler: "QueryRoleColFilter"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/queryRoleColFilterRequest"
    example:
      offset: 0
      limit: 10
      hostId: "host123"
- name: "getFreshRoleColFilter"
  version: "0.1.0"
  handler: "GetFreshRoleColFilter"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getFreshRoleColFilterRequest"
    example:
      hostId: "host123"
      roleId: "role123"
      endpointId: "endpoint123"
      aggregateVersion: 1

