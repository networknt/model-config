---
host: "lightapi.net"
service: "deployment"
schemas:
  getPipelineRequest:
    title: "Pipeline"
    type: "object"
    properties:
      offset:
        type: "integer"
        description: "Offset"
      limit:
        type: "integer"
        description: "Limit"
      hostId:
        type: "string"
        description: "Host Id"
      filters:
        type: "string"
        description: "Filters"
      globalFilter:
        type: "string"
        description: "Global Filter"
      sorting:
        type: "string"
        description: "Sorting"
    required:
    - "offset"
    - "limit"
    - "hostId"
  getFreshPipelineRequest:
    title: "Pipeline"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      pipelineId:
        type: "string"
        description: "Pipeline Id"
    required:
    - "hostId"
    - "pipelineId"
  getPipelineLabelRequest:
    title: "Pipeline Label"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
    required:
    - "hostId"
  getPlatformRequest:
    title: "Platform"
    type: "object"
    properties:
      offset:
        type: "integer"
        description: "Offset"
      limit:
        type: "integer"
        description: "Limit"
      hostId:
        type: "string"
        description: "Host Id"
      filters:
        type: "string"
        description: "Filters"
      globalFilter:
        type: "string"
        description: "Global Filter"
      sorting:
        type: "string"
        description: "Sorting"
    required:
    - "offset"
    - "limit"
    - "hostId"
  getFreshPlatformRequest:
    title: "Platform"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      platformId:
        type: "string"
        description: "Platform Id"
    required:
    - "hostId"
    - "platformId"
  getPlatformLabelRequest:
    title: "Platform Label"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
    required:
    - "hostId"
  getDeploymentInstanceRequest:
    title: "Deployment Instance"
    type: "object"
    properties:
      offset:
        type: "integer"
        description: "Offset"
      limit:
        type: "integer"
        description: "Limit"
      hostId:
        type: "string"
        description: "Host Id"
      filters:
        type: "string"
        description: "Filters"
      globalFilter:
        type: "string"
        description: "Global Filter"
      sorting:
        type: "string"
        description: "Sorting"
    required:
    - "offset"
    - "limit"
    - "hostId"
  getFreshDeploymentInstanceRequest:
    title: "Deployment Instance"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      deploymentInstanceId:
        type: "string"
        description: "Deployment Instance Id"
    required:
    - "hostId"
    - "deploymentInstanceId"
  getDeploymentInstanceLabelRequest:
    title: "Deployment Instance Label"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      instanceId:
        type: "string"
        description: "Instance Id"
    required:
    - "hostId"
  getDeploymentInstancePipelineRequest:
    title: "Deployment Instance Pipeline"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      instanceId:
        type: "string"
        description: "Instance Id"
      systemEnv:
        title: "System Env"
        type: "string"
      runtimeEnv:
        title: "Runtime Env"
        type: "string"
    required:
    - "hostId"
    - "instanceId"
    - "systemEnv"
    - "runtimeEnv"
  getDeploymentRequest:
    title: "Deployment"
    type: "object"
    properties:
      offset:
        type: "integer"
        description: "Offset"
      limit:
        type: "integer"
        description: "Limit"
      hostId:
        type: "string"
        description: "Host Id"
      filters:
        type: "string"
        description: "Filters"
      globalFilter:
        type: "string"
        description: "Global Filter"
      sorting:
        type: "string"
        description: "Sorting"
    required:
    - "offset"
    - "limit"
    - "hostId"
  getFreshDeploymentRequest:
    title: "Deployment"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      deploymentId:
        type: "string"
        description: "Deployment Id"
    required:
    - "hostId"
    - "deploymentId"
action:
- name: "getPipeline"
  version: "0.1.0"
  handler: "GetPipeline"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getPipelineRequest"
    example:
      offset: 0
      limit: 10
      hostId: "host123"
- name: "getFreshPipeline"
  version: "0.1.0"
  handler: "GetFreshPipeline"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getFreshPipelineRequest"
    example:
      hostId: "host123"
      pipelineId: "pipeline123"
- name: "getPipelineLabel"
  version: "0.1.0"
  handler: "GetPipelineLabel"
  skipAuth: true
  request:
    schema:
      $ref: "#/schemas/getPipelineLabelRequest"
    example:
      hostId: "host123"
- name: "getPlatform"
  version: "0.1.0"
  handler: "GetPlatform"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getPlatformRequest"
    example:
      offset: 0
      limit: 10
      hostId: "host123"
- name: "getFreshPlatform"
  version: "0.1.0"
  handler: "GetFreshPlatform"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getFreshPlatformRequest"
    example:
      hostId: "host123"
      platformId: "platform123"
- name: "getPlatformLabel"
  version: "0.1.0"
  handler: "GetPlatformLabel"
  skipAuth: true
  request:
    schema:
      $ref: "#/schemas/getPlatformLabelRequest"
    example:
      hostId: "host123"
- name: "getDeploymentInstance"
  version: "0.1.0"
  handler: "GetDeploymentInstance"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getDeploymentInstanceRequest"
    example:
      offset: 0
      limit: 10
      hostId: "host123"
- name: "getFreshDeploymentInstance"
  version: "0.1.0"
  handler: "GetFreshDeploymentInstance"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getFreshDeploymentInstanceRequest"
    example:
      hostId: "host123"
      deploymentInstanceId: "deploymentInstance123"
- name: "getDeploymentInstanceLabel"
  version: "0.1.0"
  handler: "GetDeploymentInstanceLabel"
  skipAuth: true
  request:
    schema:
      $ref: "#/schemas/getDeploymentInstanceLabelRequest"
    example:
      hostId: "host123"
- name: "getDeploymentInstancePipeline"
  version: "0.1.0"
  handler: "GetDeploymentInstancePipeline"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getDeploymentInstancePipelineRequest"
    example:
      hostId: "host123"
      instanceId: "instance123"
      systemEnv: "VM Ubuntu 24.04"
      runtimeEnv: "OpenJDK 21"
- name: "getDeployment"
  version: "0.1.0"
  handler: "GetDeployment"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getDeploymentRequest"
    example:
      offset: 0
      limit: 10
      hostId: "host123"
- name: "getFreshDeployment"
  version: "0.1.0"
  handler: "GetFreshDeployment"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getFreshDeploymentRequest"
    example:
      hostId: "host123"
      deploymentId: "deployment123"
