---
host: "lightapi.net"
service: "service"
schemas:
  createApiRequest:
    title: "Service"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      apiId:
        type: "string"
        description: "Api Id"
      apiName:
        type: "string"
        description: "Api Name"
      apiType:
        title: "Api Type"
        type: "string"
      apiDesc:
        title: "Api Desc"
        type: "string"
      operationOwner:
        title: "Operation Owner"
        type: "string"
      deliveryOwner:
        title: "Delivery Owner"
        type: "string"
      region:
        title: "Region"
        type: "string"
      businessGroup:
        title: "Business Group"
        type: "string"
      lob:
        type: "string"
        title: "Line of Business"
      platform:
        type: "string"
        title: "platform"
      capability:
        type: "string"
        title: "Capability"
      gitRepo:
        type: "string"
        title: "Git Repo"
      apiTags:
        title: "Tags"
        type: "string"
      apiStatus:
        title: "Api Status"
        type: "string"
    required:
    - "hostId"
    - "apiId"
    - "apiName"
    - "apiType"
    - "apiStatus"
  updateApiRequest:
    title: "Service"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      apiId:
        type: "string"
        description: "Api Id"
      apiName:
        type: "string"
        description: "Api Name"
      apiType:
        title: "Api Type"
        type: "string"
      apiDesc:
        title: "Api Desc"
        type: "string"
      operationOwner:
        title: "Operation Owner"
        type: "string"
      deliveryOwner:
        title: "Delivery Owner"
        type: "string"
      region:
        title: "Region"
        type: "string"
      businessGroup:
        title: "Business Group"
        type: "string"
      lob:
        type: "string"
        title: "Line of Business"
      platform:
        type: "string"
        title: "platform"
      capability:
        title: "Capability"
        type: "string"
      gitRepo:
        type: "string"
        title: "Git Repo"
      apiTags:
        title: "Tags"
        type: "string"
      apiStatus:
        title: "Api Status"
        type: "string"
    required:
    - "hostId"
    - "apiId"
    - "apiName"
    - "apiType"
    - "apiStatus"
  deleteApiRequest:
    title: "Service"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "HostId"
      apiId:
        type: "string"
        description: "Api Id"
    required:
    - "hostId"
    - "apiId"
  updateApiVersionSpecRequest:
    title: "Service"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      apiId:
        type: "string"
        description: "API Id"
      apiVersion:
        type: "string"
        description: "API Version"
      serviceId:
        type: "string"
        description: "Service Id"
      apiVersionDesc:
        type: "string"
        description: "Api Version Desc"
      specLink:
        type: "string"
        description: "Spec Link"
      spec:
        type: "string"
        description: "API Specification"
    required:
    - "hostId"
    - "apiId"
    - "apiVersion"
    - "spec"
  createApiVersionRequest:
    title: "Service Version"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      apiId:
        type: "string"
        description: "Api Id"
      apiVersion:
        title: "Api Version"
        type: "string"
      serviceId:
        type: "string"
        description: "Service Id"
      apiVersionDesc:
        type: "string"
        description: "Api Version Desc"
      specLink:
        title: "Spec Link"
        type: "string"
      spec:
        title: "Spec"
        type: "string"
    required:
    - "hostId"
    - "apiId"
    - "apiVersion"
    - "apiType"
    - "serviceId"
  updateApiVersionRequest:
    title: "Service Version"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      apiId:
        type: "string"
        description: "Api Id"
      apiVersion:
        title: "Api Version"
        type: "string"
      serviceId:
        type: "string"
        description: "Service Id"
      apiVersionDesc:
        title: "Api Version Desc"
        type: "string"
      specLink:
        type: "string"
        description: "Spec Link"
      spec:
        title: "Spec"
        type: "string"
    required:
    - "hostId"
    - "apiId"
    - "apiVersion"
    - "apiType"
    - "serviceId"
  deleteApiVersionRequest:
    title: "Service Version"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      apiId:
        type: "string"
        description: "Api Id"
      apiVersion:
        type: "string"
        description: "Api Version"
    required:
    - "hostId"
    - "apiId"
    - "apiVersion"
  createApiEndpointRuleRequest:
    title: "Service Endpoint Rule"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      apiId:
        type: "string"
        description: "Api Id"
      apiVersion:
        title: "Api Version"
        type: "string"
      endpoint:
        type: "string"
        description: "Api Endpoint"
      ruleId:
        title: "Rule Id"
        type: "string"
    required:
    - "hostId"
    - "apiId"
    - "apiVersion"
    - "endpoint"
    - "ruleId"
  deleteApiEndpointRuleRequest:
    title: "Service Endpoint Rule"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      apiId:
        type: "string"
        description: "Api Id"
      apiVersion:
        title: "Api Version"
        type: "string"
      endpoint:
        type: "string"
        description: "Api Endpoint"
      ruleId:
        title: "Rule Id"
        type: "string"
    required:
    - "hostId"
    - "apiId"
    - "apiVersion"
    - "endpoint"
    - "ruleId"
action:
- name: "createApi"
  version: "0.1.0"
  handler: "CreateApi"
  scope: "portal.w"
  request:
    schema:
      $ref: "#/schemas/createApiRequest"
    example:
      hostId: "lightapi.net"
      apiId: "api123"
      apiName: "myapi"
      apiType: "openapi"
      apiStatus: "draft"
- name: "updateApi"
  version: "0.1.0"
  handler: "UpdateApi"
  scope: "portal.w"
  request:
    schema:
      $ref: "#/schemas/updateApiRequest"
    example:
      hostId: "lightapi.net"
      apiId: "api123"
      apiName: "myapi"
      apiType: "graphql"
      apiStatus: "published"
- name: "deleteApi"
  version: "0.1.0"
  handler: "DeleteApi"
  scope: "portal.w"
  request:
    schema:
      $ref: "#/schemas/deleteApiRequest"
    example:
      apiId: "api123"
      hostId: "lightapi.net"
- name: "updateApiVersionSpec"
  version: "0.1.0"
  handler: "UpdateApiVersionSpec"
  scope: "portal.w"
  request:
    schema:
      $ref: "#/schemas/updateApiVersionSpecRequest"
    example:
      hostId: "lightapi.net"
      apiId: "api123"
      apiVersion: "1.0.0"
      serviceId: "service123"
      apiVersionDesc: "This is my first spec."
      specLink: "example.com"
      spec: "spec"
- name: "createApiVersion"
  version: "0.1.0"
  handler: "CreateApiVersion"
  scope: "portal.w"
  request:
    schema:
      $ref: "#/schemas/createApiVersionRequest"
    example:
      hostId: "lightapi.net"
      apiId: "api123"
      apiVersion: "1.0.0"
      serviceId: "service123"
      apiVersionDesc: "This is my first spec."
      specLink: "example.com"
      spec: "spec"
- name: "updateApiVersion"
  version: "0.1.0"
  handler: "UpdateApiVersion"
  scope: "portal.w"
  request:
    schema:
      $ref: "#/schemas/updateApiVersionRequest"
    example:
      hostId: "lightapi.net"
      apiId: "api123"
      apiVersion: "1.1.0"
      serviceId: "service123"
      apiVersionDesc: "This is my second spec."
      specLink: "example.com"
      spec: "spec"
- name: "deleteApiVersion"
  version: "0.1.0"
  handler: "DeleteApiVersion"
  scope: "portal.w"
  request:
    schema:
      $ref: "#/schemas/deleteApiVersionRequest"
    example:
      hostId: "lightapi.net"
      apiId: "api123"
      apiVersion: "1.0.0"
- name: "createApiEndpointRule"
  version: "0.1.0"
  handler: "CreateApiEndpointRule"
  scope: "portal.w"
  request:
    schema:
      $ref: "#/schemas/createApiEndpointRuleRequest"
    example:
      hostId: "lightapi.net"
      apiId: "api123"
      apiVersion: "1.0.0"
      endpoint: "pets"
      ruleId: "rule123"
- name: "deleteApiEndpointRule"
  version: "0.1.0"
  handler: "DeleteApiEndpointRule"
  scope: "portal.w"
  request:
    schema:
      $ref: "#/schemas/deleteApiEndpointRuleRequest"
    example:
      hostId: "lightapi.net"
      apiId: "api123"
      apiVersion: "1.0.0"
      endpoint: "pets"
      ruleId: "rule123"
