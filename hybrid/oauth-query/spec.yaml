---
host: "lightapi.net"
service: "oauth"
schemas:
  getClientByProviderClientIdRequest:
    title: "Client"
    type: "object"
    properties:
      providerId:
        type: "string"
        description: "Provider Id"
      clientId:
        type: "string"
        description: "Client Id"
    required:
    - "providerId"
    - "clientId"
  getRefreshTokenDetailRequest:
    title: "Refresh Token"
    type: "object"
    properties:
      refreshToken:
        type: "string"
        description: "Refresh Token"
    required:
    - "refreshToken"
  getRefreshTokenRequest:
    title: "Refresh Token"
    type: "object"
    properties:
      offset:
        type: "integer"
        description: "Record Offset"
      limit:
        type: "integer"
        description: "Record Limit"
      hostId:
        type: "string"
        description: "Host Id"
      filters:
        type: "string"
        description: "Filters"
      globalFilter:
        type: "string"
        description: "Global Filter"
      sorting:
        type: "string"
        description: "Sorting"
    required:
    - "limit"
    - "offset"
    - "hostId"
  getAuthCodeDetailRequest:
    title: "Auth Code"
    type: "object"
    properties:
      authCode:
        type: "string"
        description: "Auth Code"
    required:
    - "authCode"
  getAuthCodeRequest:
    title: "Auth Code"
    type: "object"
    properties:
      offset:
        type: "integer"
        description: "Record Offset"
      limit:
        type: "integer"
        description: "Record Limit"
      hostId:
        type: "string"
        description: "Host Id"
      filters:
        type: "string"
        description: "Filters"
      globalFilter:
        type: "string"
        description: "Global Filter"
      sorting:
        type: "string"
        description: "Sorting"
    required:
    - "limit"
    - "offset"
    - "hostId"
  getRefTokenDetailRequest:
    title: "Reference Token"
    type: "object"
    properties:
      refToken:
        type: "string"
        description: "Reference Token"
    required:
    - "refToken"
  getRefTokenRequest:
    title: "Reference Token"
    type: "object"
    properties:
      offset:
        type: "integer"
        description: "Record Offset"
      limit:
        type: "integer"
        description: "Record Limit"
      hostId:
        type: "string"
        description: "Host Id"
      filters:
        type: "string"
        description: "Filters"
      globalFilter:
        type: "string"
        description: "Global Filter"
      sorting:
        type: "string"
        description: "Sorting"
    required:
    - "limit"
    - "offset"
    - "hostId"
  getProviderDetailRequest:
    title: "OAuth Provider"
    type: "object"
    properties:
      providerId:
        type: "string"
        description: "Provider Id"
    required:
    - "providerId"
  getProviderRequest:
    title: "OAuth Provider"
    type: "object"
    properties:
      offset:
        type: "integer"
        description: "Record Offset"
      limit:
        type: "integer"
        description: "Record Limit"
      hostId:
        type: "string"
        description: "HostId"
      filters:
        type: "string"
        description: "Filters"
      globalFilter:
        type: "string"
        description: "Global Filter"
      sorting:
        type: "string"
        description: "Sorting"
    required:
    - "limit"
    - "offset"
    - "hostId"
  getProviderKeyRequest:
    title: "OAuth Provider Key"
    type: "object"
    properties:
      providerId:
        type: "string"
        description: "Provider Id"
      kid:
        type: "string"
        description: "Key Id"
      publicKey:
        type: "string"
        description: "Public Key"
      privateKey:
        type: "string"
        description: "Private Key"
      keyType:
        type: "string"
        description: "Key Type"
      updateUser:
        type: "string"
        description: "Update User"
      updateTs:
        type: "string"
        description: "Update Timestamp"
    required:
    - "providerId"
  getClientRequest:
    title: "Service"
    type: "object"
    properties:
      offset:
        type: "integer"
        description: "Record Offset"
      limit:
        type: "integer"
        description: "Record Limit"
      hostId:
        type: "string"
        description: "HostId"
      filters:
        type: "string"
        description: "Filters"
      globalFilter:
        type: "string"
        description: "Global Filter"
      sorting:
        type: "string"
        description: "Sorting"
    required:
    - "hostId"
    - "offset"
    - "limit"
  getFreshClientRequest:
    title: "Service"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      clientId:
        type: "string"
        description: "Client Id"
      aggregateVersion:
        type: "integer"
        description: "Aggregate Version"
    required:
    - "hostId"
    - "clientId"
    - "aggregateVersion"
  getFreshProviderRequest:
    title: "Service"
    type: "object"
    properties:
      hostId:
        type: "string"
        description: "Host Id"
      providerId:
        type: "string"
        description: "Provider Id"
      aggregateVersion:
        type: "integer"
        description: "Aggregate Version"
    required:
    - "hostId"
    - "providerId"
    - "aggregateVersion"
action:
- name: "getClientByProviderClientId"
  version: "0.1.0"
  handler: "GetClientByProviderClientId"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getClientByProviderClientIdRequest"
    example:
      providerId: "provider123"
      clientId: "client123"
- name: "getRefreshTokenDetail"
  version: "0.1.0"
  handler: "GetRefreshTokenDetail"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getRefreshTokenDetailRequest"
    example:
      refreshToken: "refresh_token_123"
- name: "getRefreshToken"
  version: "0.1.0"
  handler: "GetRefreshToken"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getRefreshTokenRequest"
    example:
      offset: 0
      limit: 10
      hostId: "host123"
- name: "getAuthCodeDetail"
  version: "0.1.0"
  handler: "GetAuthCodeDetail"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getAuthCodeDetailRequest"
    example:
      authCode: "auth_code_123"
- name: "getAuthCode"
  version: "0.1.0"
  handler: "GetAuthCode"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getAuthCodeRequest"
    example:
      offset: 0
      limit: 10
      hostId: "host123"
- name: "getRefTokenDetail"
  version: "0.1.0"
  handler: "GetRefTokenDetail"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getRefTokenDetailRequest"
    example:
      refToken: "ref_token_123"
- name: "getRefToken"
  version: "0.1.0"
  handler: "GetRefToken"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getRefTokenRequest"
    example:
      offset: 0
      limit: 10
      hostId: "host123"
- name: "getProviderDetail"
  version: "0.1.0"
  handler: "GetProviderDetail"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getProviderDetailRequest"
    example:
      providerId: "provider123"
- name: "getProvider"
  version: "0.1.0"
  handler: "GetProvider"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getProviderRequest"
    example:
      offset: 0
      limit: 10
      hostId: "host123"
- name: "getProviderKey"
  version: "0.1.0"
  handler: "GetProviderKey"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getProviderKeyRequest"
    example:
      providerId: "provider123"
- name: "getClient"
  version: "0.1.0"
  handler: "GetClient"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getClientRequest"
    example:
      hostId: "host123"
      offset: 0
      limit: 10
- name: "getFreshClient"
  version: "0.1.0"
  handler: "GetFreshClient"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getFreshClientRequest"
    example:
      clientId: "client123"
      hostId: "host123"
      aggregateVersion: 1
- name: "getFreshProvider"
  version: "0.1.0"
  handler: "GetFreshProvider"
  scope: "portal.r"
  request:
    schema:
      $ref: "#/schemas/getFreshProviderRequest"
    example:
      providerId: "provider123"
      hostId: "host123"
      aggregateVersion: 1
